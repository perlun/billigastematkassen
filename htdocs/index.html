<html>
  <head>
    <title>Billigaste Matkassen</title>
    <base href="/"/>
    <link href="css/bootstrap.min.css" rel="stylesheet" media="screen">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the bottom of the topbar */
      }

      /* To get rid of spinners in Chrome. */
      input[type=number]::-webkit-inner-spin-button,
      input[type=number]::-webkit-outer-spin-button {
          -webkit-appearance: none;
          margin: 0;
      }

      .editName {
        width: 130px;
      }

      .editBrand {
        width: 100px;
      }

      .editQty {
        width: 50px;
      }

      .editProductGroup {
        width: 110px;
      }
    </style>
  </head>

  <body>
    <script type="text/x-handlebars" data-template-name="application">
      <div class="navbar navbar-fixed-top">
        <div class="navbar-inner">
          <div class="container">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </a>
            <div class="brand">Billigaste Matkassen</div>
          </div>
        </div>
      </div>

      <div class="container">
        <div class="row">
          <div class="span2">
            <ul class="nav nav-list">
              <li class="nav-header">Innehåll</li>
              <li {{bindAttr class="pricesLinkClass"}}"><a href="#">Priser</a></li>
              <li {{bindAttr class="editLinkClass"}}"><a href="#/redigera">Redigera</a></li>
            </ul>
          </div>

          <div class="span10">
            <!--Body content-->
            <div>
              {{outlet content}}
            </div>
          </div>
        </div>

        <hr>

        <footer id="footer">
          <small>
            Baseras på <a href="http://twitter.github.com/bootstrap/">Twitter Bootstrap</a> med temat <a href="http://bootswatch.com/simplex/">Simplex</a>.
          </small>
        </footer>
      </div><!-- /#container -->
    </script>

    <script type="text/x-handlebars" data-template-name="prices">
      <div>
        <h1>Billigaste Matkassen - Priser</h1>
        <p>
          Denna sida hjälper dig att hitta det billigaste priset på din matkasse, baserat på priser som har registrerats på <a href="#/redigera">redigeringssidan</a>.
        </p>
      </div>

      <ul class="nav nav-tabs">
        <li class="active">
          <a href="#alla" data-toggle="tab">Alla</a>
        </li>
        <li>
          <a href="#frukt-och-gront" data-toggle="tab">Frukt och grönt</a>
        </li>
        <li>
          <a href="#mejeri" data-toggle="tab">Mejeri</a>
        </li>
      </ul>

      <div class="tabbable">
        <div class="tab-content">
          <div class="tab-pane active" id="alla">
            <table class="table table-striped">
              <tbody>
                {{#each item in items}}
                <tr>
                  <th>{{item.name}}</th>
                  <td>{{item.brand}}</td>
                  <td>{{item.qty}}</td>
                  <td>{{item.unitOfMeasure}}</td>
                  <td>{{item.price_axet}}</td>
                  <td>{{item.price_citymarket}}</td>
                  <td>{{item.price_lidl}}</td>
                  <td>{{item.price_minimani}}</td>
                  <td>{{item.price_prisma}}</td>
                </tr>
                {{/each}}
              </tbody>
            </table>
          </div>

          <div class="tab-pane" id="frukt-och-gront">
          </div>

          <div class="tab-pane" id="mejeri">
          </div>
        </div>
      </div>
    </script>

    <script type="text/x-handlebars" data-template-name="edit_prices">
      <div>
        <h1>Billigaste Matkassen - Redigera priser</h1>
      </div>      

      <form>
        <table class="table table-striped table-hover table-condensed">
          <thead>
            <tr>
              <th>Artikel</th>
              <th>Varumärke</th>
              <th>Vikt/volym</th>
              <th>Enhet</th>
              <th>Produktgrupp</th>
              <th>Axet</th>
              <th>Citymarket</th>
              <th>Lidl</th>
              <th>Minimani</th>
              <th>Prisma</th>
            </tr>
          </thead>
          <tbody>
            {{#each item in items}}
            <tr>
              <td>{{view Ember.TextField valueBinding="item.name" classNames="editName"}}</td>
              <td>{{view Ember.TextField valueBinding="item.brand" classNames="editBrand"}}</td>
              <td>{{view App.Controls.AmountTextField valueBinding="item.qty"}}</td>
              <td>{{view Ember.Select contentBinding="unitOfMeasures"
                                      prompt=" "
                                      valueBinding="item.unitOfMeasure"
                                      classNames="editQty"}}</td>
              <td>{{view Ember.Select contentBinding="productGroups"
                                      prompt=" "
                                      valueBinding="item.productGroup"
                                      classNames="editProductGroup"}}</td>
              <td>{{view App.Controls.MoneyTextField valueBinding="item.price_axet"}}</td>
              <td>{{view App.Controls.MoneyTextField valueBinding="item.price_citymarket"}}</td>
              <td>{{view App.Controls.MoneyTextField valueBinding="item.price_lidl"}}</td>
              <td>{{view App.Controls.MoneyTextField valueBinding="item.price_minimani"}}</td>
              <td>{{view App.Controls.MoneyTextField valueBinding="item.price_prisma"}}</td>
              <td><a href="#" {{action "removeRow" item}}><i class="icon-trash"></i></a></td>
            </tr>
            {{/each}}
          </tbody>
        </table>

        <div>
          <button class="btn" {{action addNewRow}}>Lägg till ny rad</button>
        </div>
        <div style="margin-top: 12px;">
          <button class="btn" {{action saveRows}}>Spara</button>
        </div>
      </form>
    </script>

    <script src="js/jquery-1.8.3.js"></script>
    <script src="js/purl.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/underscore-min.js"></script>
    <script src="js/handlebars-1.0.rc.1.js"></script>
    <script src="js/ember.js"></script>
    <script src="js/app.js"></script>
  </body>
</html>
